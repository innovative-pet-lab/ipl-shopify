
<div class="header__icons {{ section.settings.icon_weight }}-icon">
  <div class="right-menu">
    {%- for link in linklists['right-menu'].links -%}
      {% assign menuIndex = forloop.index %}
      {%- liquid 
        assign menuTitle = link.title | handleize
        assign blockData = ''
        assign menuDropdown = ''
        for block in section.blocks
          assign blockParent = block.settings.title | handleize
          if blockParent == menuTitle
            assign blockData = block
            break
          endif
        endfor 
      -%}
      {%- capture menuDropdown -%}
      {%- case blockData.type -%}
              {%-when 'style-1' -%}
              {%- liquid 
                if blockData.settings.show_submenu
                  render 'nav-menu-items' link : link
                endif 
              -%}
              {%- capture megaMenuProducts -%}
              {%- for i in (1..6) -%}
              {%- assign productIndex = 'product' | append: i -%}
              {%- if blockData.settings[productIndex] != blank -%}
              <div class="col-12 col-sm-12 col-md-4 col-lg-3 col-xl-2">
                <div class="dropdown-inner-menu-item product-menu-item">
                  {%- render 'product-grid' product: blockData.settings[productIndex], productClasses: 'xsmall-product-card', hideRelated: true, hide_options: true , hideHoverImage: true -%}
                </div>
              </div>
              {%- endif -%}        		
              {%- endfor -%}
              {%- endcapture -%}
              {%- if megaMenuProducts != blank -%}
              <div class="row">
                {{- megaMenuProducts -}}
              </div>
              {%- endif -%}
      
              {%-when 'style-2' -%}
              {%- capture collProducts -%}
              {%- for i in (1..2) -%}
              {%- liquid 
                assign collectionIndex = 'collection' | append: i
                assign collection = blockData.settings[collectionIndex] 
              -%}
              {%- if collection != blank -%}
              <div class="col-12 col-sm-12 col-md-12 col-lg-6">
                <div class="yv-megamenu-product-outer">
                  <a href="{{ collection.url }}" class="menu-category-title"> {{ collection.title }}</a>
                  <ul class="list-unstyled yv-megamenu-product-list">              
                    {%- for product in collection.products limit: 4 -%}
                    {%- assign current_variant = product.selected_or_first_available_variant -%}
                    <li class="yv-megamenu-product-box">
                      <a href="{{ product.url }}" class="yv-megamenu-product-img">                 
                          {%- if product.featured_media != blank -%}
                          <div class="image-wrapper" style="padding-bottom:{{ 1 | divided_by : product.featured_media.preview_image.aspect_ratio | times: 100 }}%">
                          {%- render 'lazy-image' image: product.featured_media.preview_image, class : 'lazypreload', width: '110x' -%}
                          </div>
                          {%- else -%}
                          {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
                          {%- endif -%}
                      </a>
                      <div class="yv-megamenu-product-detail yv-product-information">
                        <a href="{{ product.url }}" class="">{{ product.title | strip_html }}</a>
                        <div class="yv-prizebox">
                          <span class="yv-product-price">{{ current_variant.price | money }}</span>
                          {%- if current_variant.compare_at_price > current_variant.price -%}
                          <span class="yv-product-compare-price"> {{ current_variant.compare_at_price | money }}</span>
                          {%- endif -%}
                        </div>
                      </div>
                    </li>
                    {%- endfor -%}
                  </ul>
                </div>
              </div>
              {%- endif -%}
              {%- endfor -%}
              {%- endcapture -%}
              {%- capture imageContent -%}
              {%- for i in (1..2) -%}
                {%- liquid 
                  assign imageIndex = 'image' | append: i
                  assign headingIndex = 'heading' | append: i
                  assign subheadingIndex = 'subheading' | append: i
                  assign linkIndex = 'link' | append: i
                  assign image = blockData.settings[imageIndex]
                  assign heading = blockData.settings[headingIndex]
                  assign subheading = blockData.settings[subheadingIndex]
                  assign imageLink = blockData.settings[linkIndex] 
                -%}
              {%- if image != blank or heading != blank or subheading != blank -%}
              <div class="col-12 col-sm-12 col-md-6">
                <a href="{{ imageLink }}" class="yv-megamenu-collection">
                  {%- if image != blank -%}
                  <div class="image-wrapper" style="padding-bottom:{{ 1 | divided_by : image.aspect_ratio | times: 100 | minus : 1 }}%">
                  {%- render 'lazy-image' image: image, class : 'lazypreload' -%}
                  </div>
                  {%- endif -%}
                  {%- if heading != blank or subheading != blank -%}
                    <div class="yv-megamenu-collection-detail">
                      {%- if heading != blank -%}
                      <span class="yv-megamenu-collection-subtitle">{{ heading }}</span>
                      {%- endif -%}
                      {%- if subheading != blank -%}
                      <h5 class="yv-megamenu-collection-title">{{ subheading }}</h5>
                      {%- endif -%}
                    </div>
                  {%- endif -%}
                </a>
              </div>
              {%- endif -%}
              {%- endfor -%}
              {%- endcapture -%}
              {%- if collProducts != blank or imageContent != blank -%}
              <div class="row">
                {%- if collProducts != blank -%}
                <div class="col-12 col-sm-12 col-md-7 col-lg-6">
                  <div class="dropdown-inner-menu-item">
                    <div class="row no-gutters">
                      {{ collProducts }}
                    </div>
                  </div>
                </div>
                {%- endif -%}
                {%- if imageContent != blank -%}
                <div class="col-12 col-sm-12 col-md-5 col-lg-6">
                  <div class="dropdown-inner-menu-item">
                    <div class="row">
                      {{ imageContent }}
                    </div>
                  </div>
                </div>
                {%- endif -%}
              </div>
              {%- endif -%}
      
              {%-when 'style-3' -%}  
              {%- assign collectionCount = 1 -%}
              {%- capture megaMenu3 -%}
              <div class="yv-listing-megamenus grid-container">
                {%- liquid
                  assign container1 ='<div class="yv-listing-megamenu-container">'
                  assign container2 ='<div class="yv-listing-megamenu-container">'
                  assign container3 ='<div class="yv-listing-megamenu-container">'
                  assign container4 ='<div class="yv-listing-megamenu-container">'
                  assign collectionCount = 1 
                -%}
                  {% assign groupMenu = 'group_' | append: menuIndex %}
                {%- for i in (1..12) -%}
                {%- liquid
                  assign collectionIndex = 'collection' | append: i
                  assign collection = blockData.settings[collectionIndex] 
                -%}          
                  
                {%- if collection != blank and collection.all_products_count > 0 -%} 
                {%- capture containercycle -%}{% cycle groupMenu: 1, 2, 3, 4 %}{%- endcapture -%}
                {%- capture collectionContent -%}
                <div class="yv-listing-megamenu-item">
                  <a href="{{ collection.url }}" class="yv-listing-megamenu-title">{{ collection.title }}</a>
                  <ul class="list-unstyled">
                    {%- for product in collection.products limit: blockData.settings.products_count -%}
                    <li> <a href="{{ product.url }}" class="yv-megamenu-item-link">{{ product.title | strip_html }}</a></li>
                    {%- endfor -%}
                  </ul>
                </div>
                {%- endcapture -%}
                {%- liquid 
                  if containercycle == '1'  
                    assign container1 =container1 | append: collectionContent
                  elsif containercycle == '2'
                    assign container2 =container2 | append: collectionContent
                  elsif containercycle == '3' 
                    assign container3 =container3 | append: collectionContent
                  elsif containercycle == '4'
                    assign container4 =container4 | append: collectionContent
                  endif 
                  assign collectionCount =collectionCount | plus: 1 
                -%}
                {%- endif -%}
                {%- endfor -%}
                {%- liquid
                  if collectionCount > 1
                    echo container1 | append: '</div>'
                  endif
                  if collectionCount > 2 
                    echo container2 | append: '</div>'
                  endif
                  if collectionCount > 3
                    echo container3 | append: '</div>'
                  endif 
                  if collectionCount > 4
                    echo container4 | append: '</div>'
                  endif 
                -%}
              </div>
              {%- endcapture -%}
              {%- liquid
                if collectionCount > 1
                  echo megaMenu3
                endif 
              -%}
            {%- endcase -%}
      {%- endcapture -%}
      {% assign dropDown = false %}
      {% liquid
        if link.links != blank
          if blockData.type == 'style-1' and blockData.settings.show_submenu 
            assign dropDown = true
          else
            assign dropDown = true
          endif
        endif 
      -%}
      
      {%- liquid 
        assign fullwidthMenu = false
        if link.levels > 1 and link.links.size > 4 or menuDropdown != '' 
          assign fullwidthMenu = true
        elsif menuDropdown  != ''
          assign fullwidthMenu = true
        endif 
      -%}
      
      {% capture menubadge %}
            
        {%  for block in section.blocks %}
          {% if block.type == 'menu-badge' %}
            {% assign badgetitle =  block.settings.badge_label | handleize  %}
            {% if block.settings.menu_badge != blank and  badgetitle == menuTitle %}
              <span class="navPages-label new-label" id="menu-badge-{{ block.id }}">{{ block.settings.menu_badge }}</span>
                {% assign itembageCount = itembageCount | plus:1 %}
            {% endif %}
          {% endif %}
        {% endfor  %} 
      {% endcapture %} 
      
      <li class="nav-item {% if dropDown or menuDropdown != '' %}dropdown-menu-list {% endif %}{% if fullwidthMenu %}nav-item-mega-menu {% endif %}{% if link.current %}active{% endif %}">
        {%- if link.links != blank or menuDropdown != '' -%}
        <details-disclousre>
        {% if section.settings.menu_navigations == 'hover' %}
        <div class="yv-dropdown-detail">
        <a href="{{ link.url }}" class="nav-link dropdown-menu-item">
          {{ link.title | escape }}
          {% if menubadge != blank %}
            {{ menubadge }}
          {% endif  %}
          <svg fill="currentColor" viewBox="0 0 448 512">
            <path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" class=""></path>
          </svg>
        </a>                        
        <div class="yv-dropdown-menus-outer {% if fullwidthMenu %}fullwidth-megamenus{% endif %}">
          <div class="yv-dropdown-menus dd">
            <div class="container">
              {%- if menuDropdown != '' -%}
              {{- menuDropdown -}}
              {%- else -%}
                {%- render 'nav-menu-items' link: link -%}
              {%- endif -%}
            </div>
          </div>
        </div> 
        </div>
          {% else %}
          <details class="yv-dropdown-detail">
        <summary class="nav-link dropdown-menu-item">
          {{ link.title | escape }}
          {% if menubadge != blank %}
            {{ menubadge }}
          {% endif  %}
          <svg fill="currentColor" viewBox="0 0 448 512">
            <path fill="currentColor" d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z" class=""></path>
          </svg>
        </summary>                        
        <div class="yv-dropdown-menus-outer {% if fullwidthMenu %}fullwidth-megamenus{% endif %}">
          <div class="yv-dropdown-menus 45">
            <div class="container">
              {%- if menuDropdown != '' -%}
              {{- menuDropdown -}}
              {%- else -%}
                {%- render 'nav-menu-items' link: link -%}
              {%- endif -%}
            </div>
          </div>
        </div> 
        </details>
          {% endif %}
        </details-disclousre>
        {%- else -%} 
        <a class="nav-link list-menu__item" href="{{ link.url }}">{{ link.title | escape   }}
          {% if menubadge != blank %}
            {{ menubadge }}
          {% endif  %}
          </a>
        {%- endif -%}  
      </li>
    {%- endfor-%}
  </div>
  {%- if section.settings.trust_badge_logo != blank -%}
  <div class="header-img d-none d-lg-block">
    {%- if section.settings.trust_badge_link != blank -%}
    <a href="{{ section.settings.trust_badge_link }}" target="_blank">
    {% endif %}
        <img
          src="{{ section.settings.trust_badge_logo | img_url: 'master' }}"
          alt="{{ section.settings.trust_badge_logo.alt | default: shop.name | strip_html }}"
          width="{{ section.settings.trust_badge_logo.width }}"
          height="{{ section.settings.trust_badge_logo.height }}"
              >
    {%- if section.settings.trust_badge_link != blank -%}
    </a>
    {% endif %}
  </div>
{% endif %}
  {%- if section.settings.show_search  -%}
      <div class="header-search-icon"> 
            <a href="{{ routes.search_url }}" class="btn icon-search search-form" title="{{ 'general.search.search' | t }}" data-search-drawer="addsearch">
              <svg x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" >
                <g>
                	<path d="M38.6,36.4L39,36c3-3.7,4.6-8.1,4.6-12.7c0-11-8.9-19.9-19.9-19.9c-11.2,0-20.4,8.9-20.4,19.9S12.1,43.1,23,43.1   c4.6,0,9-1.6,12.7-4.6l0.4-0.3l8,8c0.4,0.4,0.7,0.6,1,0.6c0.5,0,0.6-0.2,1-0.6l0.1-0.1c0.2-0.2,0.7-0.6,0.7-0.9   c0-0.3-0.1-0.5-0.5-0.8L38.6,36.4z M23.5,40.3c-9.4,0-17-7.6-17-17s7.6-17,17-17c9.4,0,17,7.6,17,17S32.9,40.3,23.5,40.3z"/>
                </g>
              </svg>
            </a>
      </div>
  {%- endif -%}
  {%- if shop.customer_accounts_enabled -%}     
  {% liquid
    assign accountPageType = section.settings.account_type
    if customer and accountPageType == 'popup'
      assign accountPageType = 'dropdown'
    endif
  %}
  <div class="customer-links">
    <a class="acc-links text-hover acc-sign-in" 
       id="customer_login_link" href="{%- if customer -%}{{- routes.account_url -}}{%-else-%}{{ routes.account_login_url }}{%- endif -%}"
       {% unless section.settings.account_type == 'page' or request.page_type contains 'customers' %} onClick=toggleAccountPopup(event,'{{- accountPageType -}}'){% endunless %}
       title="{%- if customer -%}{{ 'customer.account_fallback' | t }}{%-else-%}{{ 'customer.log_in' | t }}{%- endif -%}">
        <svg x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" >
          <g>
          	<path d="M34.5,29.9h-19c-5.9,0-10.8,5-10.8,10.8v4.8c0,0.9,0.5,1.3,1.3,1.3s1.3-0.5,1.3-1.3v-4.8c0-4.4,3.8-8.2,8.2-8.2h19   c4.4,0,8.2,3.8,8.2,8.2v4.8c0,0.9,0.5,1.3,1.3,1.3s1.3-0.5,1.3-1.3v-4.8C45.3,34.9,40.4,29.9,34.5,29.9z"/>
          	<path d="M25,25c5.9,0,10.8-5,10.8-10.8c0-5.9-5-10.8-10.8-10.8s-10.8,5-10.8,10.8C14.2,20,19.1,25,25,25z M25,5.9   c4.4,0,8.2,3.8,8.2,8.2s-3.8,8.2-8.2,8.2s-8.2-3.8-8.2-8.2S20.6,5.9,25,5.9z"/>
          </g>
        </svg>
    </a>
  {% unless request.page_type contains 'customers' %}
        <div class="customer-account-popup account-wrapper" data-account-dropdown>
          {% if customer and section.settings.account_type != 'page' %}
            <div class="customer-account-popup-inner">
              <p>{{ customer.name }}</p>
              <a href="{{ routes.account_url }}"  class="account-link">
                {{ 'customer.account_fallback' | t }}
              </a>
              <a class="button black-btn small-btn btn-block" href="{{ routes.account_logout_url }}">
                {{ 'customer.log_out' | t }}
              </a>
            </div>
          {% elsif section.settings.account_type == 'dropdown' %}
              {% render 'header-account' %}
          {% endif %}
        </div>
      {% endunless %}
    </div>
  {%- endif -%}
<div class="wrapper-top-cart">
    <a href="{{ routes.cart_url }}" title="{{ 'templates.cart.cart' | t }}" class="cart-icon {% if settings.enable_cart_drawer and template != 'cart' %}openCartDrawer{% endif %}">
      {% if section.settings.cart_icon == 'cart' %}
        <svg  x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;">
          <g>
          	<path d="M45.6,13.5c-0.6-0.8-1.9-1.5-2.9-1.5H13.1l-0.8-3.6C12,6.8,10.3,5.6,8.6,5.6H4.2c-0.5,0-1,0.5-1,1c0,0.5,0.5,1,1,1h4.4   c0.8,0,1.5,0.5,1.8,1.4l5.3,21.4c0.4,1.8,2,2.9,3.8,2.9h20c1.7,0,3.4-1.3,3.8-2.9l3.2-13.5C46.7,15.5,46.4,14.3,45.6,13.5   L45.6,13.5z M44.5,16.1l-3.2,13.4c-0.3,1-1,1.5-1.8,1.5h-20c-0.8,0-1.5-0.5-1.8-1.4L13.6,14h28.9c0.6,0,1.2,0.3,1.5,0.6   c0.6,0.6,0.6,1.2,0.6,1.4L44.5,16.1z"/>
          	<path d="M20.5,35.7c-2.3,0-4.2,1.9-4.2,4.2c0,2.3,1.9,4.2,4.2,4.2s4.2-1.9,4.2-4.2C24.7,37.6,22.8,35.7,20.5,35.7z M20.5,42   c-1.1,0-2.3-0.9-2.3-2.3c0-1.4,0.9-2.3,2.3-2.3c1.4,0,2.3,0.9,2.3,2.3C22.7,41.1,21.6,42,20.5,42z"/>
          	<path d="M37.9,35.7c-2.3,0-4.2,1.9-4.2,4.2c0,2.3,1.9,4.2,4.2,4.2c2.3,0,4.2-1.9,4.2-4.2C42.1,37.5,40.3,35.7,37.9,35.7z M37.9,42   c-1.1,0-2.3-0.9-2.3-2.3c0-1.4,0.9-2.3,2.3-2.3c1.4,0,2.3,0.9,2.3,2.3C40.1,41.1,39,42,37.9,42z"/>
          </g>
        </svg>
        {% else %}
        <svg x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;">
          <g>
          	<path d="M43,15.6h-7.8v-5.2c0-2-0.8-3.9-2.2-5.3C31.6,3.8,29.7,3,27.7,3h-5.5c-2,0-3.9,0.8-5.3,2.2c-1.4,1.4-2.2,3.3-2.2,5.3v5.2H7   c-0.6,0-1.1,0.5-1.1,1.1v22.4c0,2.1,0.8,4.1,2.3,5.6c1.5,1.5,3.5,2.3,5.6,2.3h22.4c2.1,0,4.1-0.8,5.6-2.3c1.5-1.5,2.3-3.5,2.3-5.6   V16.8c0-0.3-0.1-0.6-0.3-0.8C43.5,15.8,43.3,15.6,43,15.6z M17,10.5c0-1.4,0.6-2.7,1.5-3.7c1-1,2.3-1.5,3.7-1.5h5.5   c1.4,0,2.7,0.6,3.7,1.5c1,1,1.5,2.3,1.5,3.7v5.2H17V10.5z M41.8,39.1c0,1.5-0.6,2.9-1.7,4c-1.1,1.1-2.5,1.7-4,1.7H13.8   c-1.5,0-2.9-0.6-4-1.7c-1.1-1.1-1.7-2.5-1.7-4V17.9h6.6v5.2c0,0.6,0.5,1.1,1.1,1.1c0.6,0,1.1-0.5,1.1-1.1v-5.2H33v5.2   c0,0.6,0.5,1.1,1.1,1.1c0.6,0,1.1-0.5,1.1-1.1v-5.2h6.6V39.1z"/>
          </g>
        </svg>
      {% endif %}
      <span class="cartCount" data-cart-count="" {% if cart.item_count == 0 %}style="display:none"{% endif %}>{% if cart.item_count < 100 %}{{cart.item_count}}{% endif %}</span>
    </a>
  </div>
</div>